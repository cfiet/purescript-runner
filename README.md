# purescript-runner

This is a small tool that allows the execution of [http://www.purescript.org/](Purescript) files
directly from [http://nodejs.org/](Node.js).

## Dependencies
 * NodeJS
 * Purescript compiler


## Example usage
Assuming the following ``Main.purs`` file
```purescript
    module Main where
      import Debug.Trace

      main = do
        print "Hello world"
```

When executed in Node.js, the following code will run the Purescript file
```javascript
    var runner = require("purescript-runner");

    runner.run("Main.purs", function (err, PS) {
      if(err) {
        console.error("Purescript compilation failed:", err);
        return;
      }

      PS.Main.main();
    });
```

The `PS` object returned by runner will contain the whole environment generated by Purescript from given files.
In addition, the main-module option and dead-code removal module of Purescript compiler are avaliable through
additional `options` object.

To fire and forget the `Main.main` module of Purescript application, the code above can be shortened to:
```javascript
    var runner = require("purescript-runner");

    runner.run("Main.purs", { modules: ["Main"], main: "Main" }, function (err) {
      if(err) {
        console.error("Purescript compilation failed:", err);
      }
    });
```
